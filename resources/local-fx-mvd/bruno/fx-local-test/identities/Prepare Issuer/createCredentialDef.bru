meta {
  name: createCredentialDef
  type: http
  seq: 5
}

post {
  url: {{ISSUER_ISS_API}}/v1alpha/participants/ZGlkOndlYjpsb2NhbC1pc3N1ZXItc2VydmljZTpmeC1pc3N1ZXI=/credentialdefinitions
  body: json
  auth: inherit
}

body:json {
  {
    "attestations": ["MC-Attestation"],
    "credentialType": "MembershipCredential",
    "format": "VC1_0_JWT",
    "id": "MC-Cred-Def",
    "jsonSchema": "{}",
    "jsonSchemaUrl": "",
    "mappings": [
    ],
    "validity": 15552000
  }
}

script:pre-request {
  req.setHeader("x-api-key", bru.getEnvVar("ISSUER_APIKEY"));
}

settings {
  encodeUrl: true
  timeout: 0
}
